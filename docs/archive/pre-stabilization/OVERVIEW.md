# –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ Core Runtime Service

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Core Runtime (v0.1.0)

–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π kernel –¥–ª—è plugin-first –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —É–º–Ω–æ–≥–æ –¥–æ–º–∞.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
core-runtime-service/
‚îú‚îÄ‚îÄ üìÑ main.py                      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ üìÑ demo.py                      # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã
‚îú‚îÄ‚îÄ üìÑ config.py                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Runtime
‚îÇ
‚îú‚îÄ‚îÄ üìÇ core/                        # –Ø–¥—Ä–æ Runtime
‚îÇ   ‚îú‚îÄ‚îÄ runtime.py                 # CoreRuntime ‚Äî –≥–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å
‚îÇ   ‚îú‚îÄ‚îÄ event_bus.py               # Pub/Sub —à–∏–Ω–∞ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ service_registry.py        # RPC —Ä–µ–µ—Å—Ç—Ä —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ state_engine.py            # In-memory state
‚îÇ   ‚îú‚îÄ‚îÄ storage.py                 # Storage API
‚îÇ   ‚îî‚îÄ‚îÄ plugin_manager.py          # Lifecycle –ø–ª–∞–≥–∏–Ω–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ üìÇ adapters/                    # –ê–¥–∞–ø—Ç–µ—Ä—ã –≤–Ω–µ—à–Ω–∏—Ö —Å–∏—Å—Ç–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ storage_adapter.py         # –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îî‚îÄ‚îÄ sqlite_adapter.py          # SQLite —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ üìÇ plugins/                     # –ü–ª–∞–≥–∏–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ base_plugin.py             # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –ø–ª–∞–≥–∏–Ω–∞
‚îÇ   ‚îî‚îÄ‚îÄ example_plugin.py          # –ü—Ä–∏–º–µ—Ä –ø–ª–∞–≥–∏–Ω–∞
‚îÇ
‚îî‚îÄ‚îÄ üìÇ docs/                        # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ README.md                  # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ ARCHITECTURE.md            # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ QUICKSTART.md              # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
    ‚îî‚îÄ‚îÄ TODO.md                    # Roadmap
```

**–ò—Ç–æ–≥–æ:** 
- 7 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —è–¥—Ä–∞
- 2 –∞–¥–∞–ø—Ç–µ—Ä–∞
- 1 –ø—Ä–∏–º–µ—Ä –ø–ª–∞–≥–∏–Ω–∞
- 4 –¥–æ–∫—É–º–µ–Ω—Ç–∞

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. CoreRuntime
–ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å, –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É—é—â–∏–π –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

**–§–∞–π–ª:** [core/runtime.py](core/runtime.py)  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:** Lifecycle management, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 2. EventBus
–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —à–∏–Ω–∞ —Å–æ–±—ã—Ç–∏–π –¥–ª—è pub/sub.

**–§–∞–π–ª:** [core/event_bus.py](core/event_bus.py)  
**–ú–µ—Ç–æ–¥—ã:** `subscribe()`, `unsubscribe()`, `publish()`

### 3. ServiceRegistry
–†–µ–µ—Å—Ç—Ä —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è RPC –≤—ã–∑–æ–≤–æ–≤.

**–§–∞–π–ª:** [core/service_registry.py](core/service_registry.py)  
**–ú–µ—Ç–æ–¥—ã:** `register()`, `unregister()`, `call()`

### 4. StateEngine
In-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è Runtime.

**–§–∞–π–ª:** [core/state_engine.py](core/state_engine.py)  
**–ú–µ—Ç–æ–¥—ã:** `get()`, `set()`, `delete()`, `exists()`

### 5. Storage API
Key-value —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å namespace.

**–§–∞–π–ª:** [core/storage.py](core/storage.py)  
**–ú–æ–¥–µ–ª—å:** `namespace + key + JSON value`

### 6. PluginManager
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ lifecycle –ø–ª–∞–≥–∏–Ω–æ–≤.

**–§–∞–π–ª:** [core/plugin_manager.py](core/plugin_manager.py)  
**–ú–µ—Ç–æ–¥—ã:** `load_plugin()`, `start_plugin()`, `stop_plugin()`, `unload_plugin()`

### 7. BasePlugin
–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞–≥–∏–Ω–æ–≤.

**–§–∞–π–ª:** [plugins/base_plugin.py](plugins/base_plugin.py)  
**Lifecycle:** `on_load()`, `on_start()`, `on_stop()`, `on_unload()`

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é
python3 demo.py

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Runtime
python3 main.py
```

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [QUICKSTART.md](QUICKSTART.md)

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ (Python) | ~1200 |
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —è–¥—Ä–∞ | 7 |
| –ê–¥–∞–ø—Ç–µ—Ä–æ–≤ | 2 |
| –ü—Ä–∏–º–µ—Ä–æ–≤ –ø–ª–∞–≥–∏–Ω–æ–≤ | 1 |
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π | 0 (stdlib only) |
| –¢–µ—Å—Ç—ã | 0 (TODO) |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 4 —Ñ–∞–π–ª–∞, ~2000 —Å—Ç—Ä–æ–∫ |

---

## üé® –§–∏–ª–æ—Å–æ—Ñ–∏—è

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–ú–ò–ù–ò–ú–ê–õ–ò–ó–ú** ‚Äî –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ, —Ç–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è
2. **PLUGIN-FIRST** ‚Äî –≤—Å—è –ª–æ–≥–∏–∫–∞ –≤ –ø–ª–∞–≥–∏–Ω–∞—Ö, –Ω–µ –≤ —è–¥—Ä–µ
3. **–ò–ó–û–õ–Ø–¶–ò–Ø** ‚Äî –ø–ª–∞–≥–∏–Ω—ã –Ω–µ –∑–Ω–∞—é—Ç –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ
4. **–ü–†–û–°–¢–û–¢–ê** ‚Äî –ø—Ä–æ—Å—Ç–æ–π –∫–æ–¥, —è–≤–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
5. **–ü–†–ï–î–°–ö–ê–ó–£–ï–ú–û–°–¢–¨** ‚Äî –±–µ–∑ –º–∞–≥–∏–∏, –±–µ–∑ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ—Å—Ç–µ–π

### –ß—Ç–æ –ó–ê–ü–†–ï–©–ï–ù–û

‚ùå ORM –≤ —è–¥—Ä–µ  
‚ùå –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ —è–¥—Ä–µ  
‚ùå FastAPI –≤ —è–¥—Ä–µ  
‚ùå –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –ë–î –∏–∑ –ø–ª–∞–≥–∏–Ω–æ–≤  
‚ùå Shared memory –º–µ–∂–¥—É –ø–ª–∞–≥–∏–Ω–∞–º–∏

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö
- [00-README.md](00-README.md) ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [QUICKSTART.md](QUICKSTART.md) ‚Äî –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- [01-ARCHITECTURE.md](01-ARCHITECTURE.md) ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- [TODO.md](TODO.md) ‚Äî roadmap

### –ü—Ä–∏–º–µ—Ä—ã
- [demo.py](demo.py) ‚Äî –ø–æ–ª–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
- [plugins/example_plugin.py](plugins/example_plugin.py) ‚Äî –ø—Ä–∏–º–µ—Ä –ø–ª–∞–≥–∏–Ω–∞

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.11+** ‚Äî —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **asyncio** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å
- **sqlite3** ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–±–µ–∑ ORM)
- **dataclasses** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- **typing** ‚Äî —Ç–∏–ø–∏–∑–∞—Ü–∏—è

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:** 0 (—Ç–æ–ª—å–∫–æ stdlib)

---

## üéØ Use Cases

### –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

‚úÖ Platform/kernel –¥–ª—è plugin-based —Å–∏—Å—Ç–µ–º  
‚úÖ Event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞  
‚úÖ Microservices –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è  
‚úÖ IoT —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (—É–º–Ω—ã–π –¥–æ–º)  
‚úÖ –ú–æ–¥—É–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –î–ª—è —á–µ–≥–æ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

‚ùå CRUD –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∏—Å–ø–æ–ª—å–∑—É–π Django/FastAPI)  
‚ùå –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
‚ùå –ü—Ä–æ—Å—Ç—ã–µ —Å–∫—Ä–∏–ø—Ç—ã  
‚ùå –í–µ–±-—Å–µ—Ä–≤–∏—Å—ã —Å REST API

---

## üîÆ Roadmap

### –§–∞–∑–∞ 1: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è (v0.2.0)
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- [ ] –¢–µ—Å—Ç—ã (80%+ coverage)
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –§–∞–∑–∞ 2: Production-ready (v1.0.0)
- [ ] –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- [ ] –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- [ ] –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å

### –§–∞–∑–∞ 3: Remote Plugins (v2.0.0)
- [ ] gRPC –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] Remote Plugin Manager
- [ ] –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

### –§–∞–∑–∞ 4: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (v3.0.0)
- [ ] –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è
- [ ] Message Queue
- [ ] Observability

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [TODO.md](TODO.md)

---

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è PR —Å:
- –ë–∞–≥—Ñ–∏–∫—Å–∞–º–∏
- –ù–æ–≤—ã–º–∏ –∞–¥–∞–ø—Ç–µ—Ä–∞–º–∏
- –ü—Ä–∏–º–µ—Ä–∞–º–∏ –ø–ª–∞–≥–∏–Ω–æ–≤
- –£–ª—É—á—à–µ–Ω–∏–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –¢–µ—Å—Ç–∞–º–∏

**–ü—Ä–∞–≤–∏–ª–æ:** –í—Å–µ–≥–¥–∞ –≤—ã–±–∏—Ä–∞–π —Ä–µ—à–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –¥–µ–ª–∞–µ—Ç —è–¥—Ä–æ –ú–ï–ù–¨–®–ï –∏ –ì–õ–£–ü–ï–ï.

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã Home Console.

---

## üéì –û–±—É—á–µ–Ω–∏–µ

### –®–∞–≥ 1: –ò–∑—É—á–∏—Ç—å –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
–ü—Ä–æ—á–∏—Ç–∞–π [00-README.md](00-README.md)

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ
```bash
python3 demo.py
```

### –®–∞–≥ 3: –ò–∑—É—á–∏—Ç—å –ø—Ä–∏–º–µ—Ä
–ü–æ—Å–º–æ—Ç—Ä–∏ [plugins/example_plugin.py](plugins/example_plugin.py)

### –®–∞–≥ 4: –°–æ–∑–¥–∞—Ç—å —Å–≤–æ–π –ø–ª–∞–≥–∏–Ω
–°–ª–µ–¥—É–π [QUICKSTART.md](QUICKSTART.md)

### –®–∞–≥ 5: –ò–∑—É—á–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
–ü—Ä–æ—á–∏—Ç–∞–π [01-ARCHITECTURE.md](01-ARCHITECTURE.md)

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –ø–ª–∞–≥–∏–Ω–æ–≤ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ë–∞–∑–æ–≤—ã–µ –ø–ª–∞–≥–∏–Ω—ã
- `devices` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- `users` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Ä–æ–ª–∏
- `auth` ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `automation` ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- `notifications` ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- `zigbee` ‚Äî Zigbee —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `zwave` ‚Äî Z-Wave —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `mqtt` ‚Äî MQTT –±—Ä–æ–∫–µ—Ä
- `telegram` ‚Äî Telegram –±–æ—Ç

### –°–µ—Ä–≤–∏—Å—ã
- `api_gateway` ‚Äî REST API
- `websocket` ‚Äî WebSocket —Å–µ—Ä–≤–µ—Ä
- `scheduler` ‚Äî –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
- `logger` ‚Äî –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–í–æ–ø—Ä–æ—Å—ã –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:
- GitHub Issues: [—Å–æ–∑–¥–∞—Ç—å issue](#)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [00-README.md](00-README.md)

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-06  
**–í–µ—Ä—Å–∏—è:** v0.1.0 (MVP)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Ready for development
